(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{94309:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return a(50561)}])},46158:function(e,t,a){"use strict";var s=a(85893);t.Z=()=>(0,s.jsx)("footer",{className:"bg-gray-800 text-white rounded-md",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Creado por"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Pablo Torres"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Jordan Morales"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Direcci\xf3n: Chillogallo"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Tel\xe9fono: +593 978 802 788 "}),(0,s.jsx)("p",{className:"text-gray-400",children:"Email: pablo.torres@istpet.edu.ec - jordan.morales@istpet.edu.ec"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"S\xedguenos"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-white",children:[(0,s.jsx)("span",{className:"sr-only",children:"Facebook"}),(0,s.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),(0,s.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-white",children:[(0,s.jsx)("span",{className:"sr-only",children:"Instagram"}),(0,s.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),(0,s.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-white",children:[(0,s.jsx)("span",{className:"sr-only",children:"Twitter"}),(0,s.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})]}),(0,s.jsx)("div",{className:"mt-8 border-t border-gray-700 pt-8 text-center",children:(0,s.jsx)("p",{className:"text-gray-400",children:"\xa9 2024 Crypto Codex. Todos los derechos reservados."})})]})})},44379:function(e,t,a){"use strict";var s=a(85893),n=a(41664),r=a.n(n),o=a(67294);a(44503),a(17232),t.Z=()=>{let[e,t]=(0,o.useState)(!1),[a,n]=(0,o.useState)(!1);return(0,s.jsx)("nav",{className:"bg-gray-800 rounded-md",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"flex items-center h-16 justify-center",children:(0,s.jsx)(r(),{href:"/home",className:"text-white font-bold text-3xl",children:"CRYPTO-CHOISE"})})})})}},50561:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(85893),n=a(67294),r=a(46158),o=a(44379);a(17232);var i=a(1581),l=a(57114),c=a(77294),d=a(67580);i.Yd.setLogLevel(i.Yd.levels.DEBUG);let m="0x4cb2f";var h=()=>{let[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)(null),[o,i]=(0,n.useState)(null),[h,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{if(void 0!==window.ethereum)try{await x(),await window.ethereum.request({method:"eth_requestAccounts"});let e=new l.Q(window.ethereum).getSigner(),t=await e.getAddress();r(t);let a=new c.CH("0xF41f3aB9639aAa5890119F9514CD1aEC7D846535",d,e);i(a),console.log("Contrato inicializado:",a.address),await p(a)}catch(e){console.error("Error al conectar con la wallet:",e)}else console.log("Por favor, instala MetaMask!")})()},[]);let x=async()=>{if(await window.ethereum.request({method:"eth_chainId"})!==m)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:m}]}),u(!0)}catch(e){if(4902===e.code)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:m,chainName:"Filecoin Testnet",nativeCurrency:{name:"Filecoin",symbol:"tFIL",decimals:18},rpcUrls:["https://rpc.ankr.com/filecoin_testnet"],blockExplorerUrls:["https://hyperspace.filfox.info/en"]}]}),u(!0)}catch(e){console.error("Error al a\xf1adir la red:",e)}console.error("Error al cambiar de red:",e)}else u(!0)},p=async e=>{try{console.log("Intentando obtener resultados...");let a=await e.obtenerResultados();console.log("Resultados obtenidos:",a);let s=a.map(e=>({nombre:e.nombre,votos:e.votos.toNumber()}));console.log("Candidatos formateados:",s),t(s)}catch(a){console.error("Error al obtener resultados:",a);try{console.log("Intentando obtener candidatos individualmente...");let a=[],s=0;for(;;)try{let t=await e.candidatos(s);a.push({nombre:t.nombre,votos:t.votos.toNumber()}),s++}catch(e){break}console.log("Candidatos obtenidos individualmente:",a),t(a)}catch(e){console.error("Error al obtener candidatos individualmente:",e)}}},b=async e=>{if(o&&h)try{let t=await o.votar(e);console.log("Transacci\xf3n de voto enviada:",t.hash),await t.wait(),console.log("Transacci\xf3n de voto confirmada"),await p(o)}catch(e){console.error("Error al votar:",e)}};return(0,s.jsx)("div",{className:"x-full flex flex-col",children:(0,s.jsx)("div",{className:"w-11/12 my-16 mx-20 h-full backdrop-blur-xl rounded-3xl drop-shadow-2xl p-7 shadow-lg shadow-black",children:(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4 text-white text-center",children:"Sistema de Votaci\xf3n en Filecoin Testnet"}),!h&&(0,s.jsx)("p",{className:"text-red-500 mb-4",children:"Por favor, cambia a la red de Filecoin Testnet"}),a?(0,s.jsxs)("p",{className:"text-black text-center text-xl bg-white w-1/2 ml-72 p-3 rounded-3xl mt-8 mb-8",children:["Conectado: ",a]}):(0,s.jsx)("p",{className:"mb-4 text-black text-center",children:"Por favor, conecta tu wallet"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map((e,t)=>(0,s.jsxs)("div",{className:"bg-white p-4 rounded",children:[(0,s.jsx)("h2",{className:"grid text-2xl text-black text-center font-semibold",children:e.nombre}),(0,s.jsxs)("p",{className:"text-black text-center text-xl",children:["Votos: ",e.votos]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{onClick:()=>b(t),disabled:!h,className:"mt-2 bg-blue-500 hover:bg-blue-700 justify-items-center items-center place-items-center text-white font-bold py-2 px-4 rounded ".concat(!h&&"opacity-50 cursor-not-allowed"),children:"Votar"})})]},t))})]})})})},u=()=>((0,n.useEffect)(()=>{let e=document.getElementById("btn1"),t=document.getElementById("div2");e&&t&&e.addEventListener("click",()=>{t.scrollIntoView({behavior:"smooth"})})}),(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,s.jsx)(o.Z,{}),(0,s.jsx)("main",{className:"flex-grow flex items-center justify-center rounded-md",style:{backgroundImage:"url('https://www.elindependiente.com/wp-content/uploads/2017/07/blockchain-g.gif')",backgroundSize:"cover",backgroundPosition:"center"},children:(0,s.jsxs)("div",{className:"w-4/5 p-14 grid grid-cols-1 mr-16 divide-y-4 divide-white divide-dotted ",children:[(0,s.jsxs)("div",{id:"div1",className:"w-11/12 h96 backdrop-blur-xl rounded-3xl drop-shadow-2xl mr-2 mx-20 shadow-lg shadow-black p-4 my-20",children:[(0,s.jsx)("h1",{className:"text-white text-4xl font-bold mb-8 flex-grow flex items-center justify-center my-6",children:"Bienvenido al sistema de votaciones descentralizado"}),(0,s.jsx)("div",{className:"text-white text-2xl text-center flex-grow flex items-center justify-center font-bold",children:(0,s.jsx)("p",{children:"Este sistema de votaciones est\xe1 basado en la tecnolog\xeda blockchain y permite a los usuarios votar de forma segura y transparente."})}),(0,s.jsx)("br",{}),(0,s.jsx)("hr",{}),(0,s.jsx)("br",{}),(0,s.jsx)("div",{className:"flex-grow flex items-center justify-center",children:(0,s.jsx)("button",{id:"btn1",className:"transition ease-in-out delay-150 bg-white hover:-translate-y-1 hover:scale-110 hover:bg-slate-300 duration-300 rounded-md p-2 text-lg tracking-wide font-bold",children:"Realizar votacion"})})]}),(0,s.jsx)("div",{id:"div2",children:(0,s.jsx)(h,{})})]})}),(0,s.jsx)(r.Z,{})]}))},17232:function(){},46601:function(){},67580:function(e){"use strict";e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"nombreNuevoCandidato","type":"string"}],"name":"agregarCandidato","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"nombreCandidato1","type":"string"},{"internalType":"string","name":"nombreCandidato2","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"indiceCandidato","type":"uint256"}],"name":"votar","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"candidatos","outputs":[{"internalType":"string","name":"nombre","type":"string"},{"internalType":"uint256","name":"votos","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"haVotado","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"obtenerResultados","outputs":[{"components":[{"internalType":"string","name":"nombre","type":"string"},{"internalType":"uint256","name":"votos","type":"uint256"}],"internalType":"struct Votacion.Candidato[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')}},function(e){e.O(0,[6245,433,6893,2888,9774,179],function(){return e(e.s=94309)}),_N_E=e.O()}]);